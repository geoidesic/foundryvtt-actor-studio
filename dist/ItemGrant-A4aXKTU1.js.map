{"version":3,"file":"ItemGrant-A4aXKTU1.js","sources":["../src/components/molecules/dnd5e/Advancements/ItemGrant.svelte"],"sourcesContent":["<script>\n  import { getContext, onDestroy, onMount, tick } from \"svelte\";\n  import { enrichHTML } from \"~/src/helpers/Utility.js\";\n  \n  export let advancement = null;\n\n  let initialId = null;\n  let items = [];\n\n  async function getItemsFromUUIDs(uuids) {\n    const itemPromises = uuids.map(async (uuid) => {\n      const item = await fromUuid(uuid);\n      return item\n    });\n    return Promise.all(itemPromises);\n  }\n\n  async function getItems() {\n    if (advancement.configuration.items && Array.isArray(advancement.configuration.items)) {\n      items = await getItemsFromUUIDs(advancement.configuration.items.map(item => item.uuid));\n    }\n  }\n\n  $: if (advancement.id != initialId) {\n    getItems();\n    initialId = advancement.id;\n  }\n  \n  onMount(async () => {\n    initialId = advancement.id;\n  });\n  \n</script>\n\n<template lang=\"pug\">\n  .advancement.mt-sm(data-type=\"{advancement.type}\")\n    ul.icon-list\n      +each(\"items as item\")\n        li.left\n          +await(\"enrichHTML(item?.system?.description?.value || '')\")\n            +then(\"Html\")\n              .flexrow.gap-4\n                //- (data-tooltip=\"{Html || null}\" data-tooltip-class=\"gas-tooltip dnd5e2 dnd5e-tooltip item-tooltip\")\n                .flex0.relative.image\n                  img.icon(src=\"{item?.img}\" alt=\"{item?.name}\")\n                +if(\"item?.link\")\n                  +await(\"enrichHTML(item.link || '')\")\n                    +then(\"Html\")\n                      .flex2 {@html Html}\n                  +else()\n                    .flex2 {item?.name}\n\n</template>\n\n<style lang=\"sass\">\n  @import \"../../../../../styles/Mixins.sass\"\n  .advancement\n    .gold-button\n      @include gold-button(null)\n        \n      \n</style>"],"names":["ctx"],"mappings":";;;;;;;;;;;;;;;;;AAkCgU;AAAA;AAAA,MAAAA,SAAM;AAAA,KAAI,QAAA;;;;;;;;;;;;AAApD,UAAA,CAAA,cAAA,IAAA,KAAA;AAAA,MAAA,QAAM,GAAG,EAAA,MAAA,KAAA,OAAA,aAAA;AAAS,WAAA,KAAA,OAAA;AAAA,MAAA,QAAM,IAAI;;;;;AAAjH,aAA8R,QAAA,MAAA,MAAA;AAAnQ,aAA+F,MAAA,IAAA;AAA7D,aAAuD,MAAA,GAAA;;;;AAA/B,UAAA;AAAA,MAAA,KAAA,CAAA,cAAA,IAAA,KAAA;AAAA,MAAAA,SAAM,GAAG,GAAA;;;AAAS,UAAA;AAAA,MAAA,KAAA,mBAAA;AAAA,MAAAA,SAAM,OAAI;;;;;;;;;;;;;;;;;;;;;;;;AAAiJ,MAAA;AAAA;AAAA,IAAA,QAAM,OAAI;AAAA;;;;;;;;;AAA9B,aAAqC,QAAA,KAAA,MAAA;;;;AAAjB,UAAA;AAAA,MAAA,KAAA,aAAA;AAAA,MAAAA,SAAM,OAAI,IAAA,UAAA,GAAA,OAAA;AAAA;;;;;;;;;;;;;;;;;;;;;AAA1H,iBAAA,UAAA;AAAA;AAAA,IAAW,IAAI,CAAA,EAAC,QAAQ;AAAA,EAAE,GAAA,IAAA;;;;;;;;;;;;;;;AAA1B,UAAA;AAAA,MAAA,KAAA,aAAA,UAAA;AAAA;AAAA,QAAW,IAAI,CAAA,EAAC,QAAQ;AAAA,MAAE,MAAA,eAAA,SAAA,IAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;IAAwC,IAAI,CAAA,IAAA;AAAA;;;;;;;AAA9B,aAAqC,QAAA,KAAA,MAAA;;;;;;MAAXA,KAAI,CAAA,IAAA,IAAA,KAAA,YAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;2BAAvR;AAAA;AAAA,IAAW,IAAI,CAAA,GAAE,QAAQ,aAAa,SAAS;AAAA,EAAE,GAAA,IAAA;;;;;;;;AAA1E,aAAmY,QAAA,IAAA,MAAA;;;;;;;;;kCAA1W;AAAA;AAAA,QAAW,IAAI,CAAA,GAAE,QAAQ,aAAa,SAAS;AAAA,MAAE,MAAA,eAAA,SAAA,IAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;;IAAxF,IAAK,CAAA;AAAA,EAAA;;iCAAV,QAAI,KAAA,GAAA;;;;;;;;;;;;AAA/C,WAAA,KAAA,aAAA;AAAA,MAAA,OAAY,IAAI;AAAA;;AAA3D,aAA6f,QAAA,KAAA,MAAA;AAA/b,aAA0b,KAAA,EAAA;;;;;;;;;;;;UAA7ZA,KAAK,CAAA;AAAA,QAAA;;mCAAV,QAAI,KAAA,GAAA;;;;;;;;;;;;;wCAAJ;AAAA;AAA3C,UAAA;AAAA,MAAA,KAAA,yBAAA;AAAA,MAAAA,QAAY,OAAI;;;;;;;;;;;;;;AAzB1C,eAAA,kBAAkB,OAAK;AAC9B,QAAA,eAAe,MAAM,WAAW,SAAI;UAClC,OAAI,MAAS,SAAS,IAAI;AACzB,WAAA;AAAA;SAEF,QAAQ,IAAI,YAAY;;;AAVtB,MAAA,EAAA,cAAc,KAAI,IAAA;AAEzB,MAAA,YAAY;MACZ,QAAK,CAAA;iBAUM,WAAQ;AACjB,QAAA,YAAY,cAAc,SAAS,MAAM,QAAQ,YAAY,cAAc,KAAK,GAAA;AAClF,mBAAA,GAAA,QAAK,MAAS,kBAAkB,YAAY,cAAc,MAAM,IAAI,UAAQ,KAAK,IAAI,CAAA,CAAA;AAAA;;AASzF,UAAO,YAAA;oBACL,YAAY,YAAY,EAAE;AAAA;;;;;;;AAN3B,UAAM,YAAY,MAAM,WAAS;AAChC,iBAAQ;wBACR,YAAY,YAAY,EAAE;AAAA;;;;;;;;;;;"}