{"version":3,"file":"AbilityScoreImprovement-BiJETK_5.js","sources":["../src/components/molecules/dnd5e/Advancements/AbilityScoreImprovement.svelte"],"sourcesContent":["<script>\n  import { getContext, onDestroy, onMount, tick } from \"svelte\";\n  import { getAdvancementValue } from \"~/src/helpers/Utility\";\n  \n  export let advancement = null;\n  \n  $: improvements = [];\n  \n  function getNonZeroFixedValues(obj) {\n    if (!obj || typeof obj !== 'object' || !obj.fixed) {\n      throw new Error('Invalid input object');\n    }\n\n    const fixed = obj.fixed;\n    const nonZeroFixedArray = [];\n\n    for (const key in fixed) {\n      if (fixed.hasOwnProperty(key) && fixed[key] !== 0) {\n        nonZeroFixedArray.push({ label: key, value: fixed[key] });\n      }\n    }\n\n    return nonZeroFixedArray;\n  }\n\n  $: fixed = getNonZeroFixedValues(advancement.configuration)\n  $: points = advancement.configuration.points\n\n  $: if(fixed) {\n    improvements = fixed;\n  }\n  $: if(points)(\n    improvements = [\n      { label: 'Points', value: Number(points) }\n    ]\n  )\n\n  onMount(async () => {\n    // window.GAS.log.d('advancement', advancement)\n  });\n  \n</script>\n\n<template lang=\"pug\">\n.advancement.mt-sm(data-type=\"{advancement.type}\")\n  +each(\"improvements as improvement\")\n    .flexrow\n      .flex.left\n        span.label {improvement.label}\n      .flex0.right\n        +if(\"Number(improvement.value) > 0\")\n          span +\n        span.value {improvement.value}\n</template>\n\n<style lang=\"sass\">\n  @import \"../../../../../styles/Mixins.scss\"\n  .advancement\n    @include inset\n\n</style>"],"names":["ctx","fixed"],"mappings":";;;;;;;;;;;;;;AA2C6P,aAAc,QAAA,MAAA,MAAA;AAAA;;;;;;;;;;;;AAAzG,MAAA;AAAA;AAAA,IAAA,OAAY,QAAK;AAAA;;;AAA4C,MAAA,UAAA;AAAA;AAAA,IAAO,IAAW,CAAA,EAAC;AAAA,EAAK,IAAI;;AAA0C,MAAA;AAAA;AAAA,IAAA,OAAY,QAAK;AAAA;;;;;;;;;;;;;;;;;;;;AAArN,aAAyO,QAAA,MAAA,MAAA;AAApN,aAA2E,MAAA,IAAA;AAApD,aAA8C,MAAA,KAAA;;AAAM,aAAmI,MAAA,IAAA;;AAApD,aAA8C,MAAA,KAAA;;;;AAA5J,UAAA;AAAA,MAAA,KAAA,cAAA;AAAA,MAAAA,QAAY,QAAK,IAAA,UAAA,IAAA,QAAA;AAA4C,UAAA;AAAA,MAAA,EAAA,WAAA;AAAA;AAAA,QAAOA,KAAW,CAAA,EAAC;AAAA,MAAK,IAAI;;;;;;;;;;;;AAA0C,UAAA;AAAA,MAAA,KAAA,cAAA;AAAA,MAAAA,QAAY,QAAK,IAAA,UAAA,IAAA,QAAA;AAAA;;;;;;;;;;;;;;IAAjP,IAAY,CAAA;AAAA,EAAA;;iCAAjB,QAAI,KAAA,GAAA;;;;;;;;;;AAAzB,WAAA,KAAA,aAAA;AAAA,MAAA,OAAY,IAAI;AAAA;;AAA3D,aAAsV,QAAA,KAAA,MAAA;;;;;;;;;;;;UAAjRA,KAAY,CAAA;AAAA,QAAA;;mCAAjB,QAAI,KAAA,GAAA;;;;;;;;;;;;;wCAAJ;AAAA;AAArB,UAAA;AAAA,MAAA,KAAA,yBAAA;AAAA,MAAAA,QAAY,OAAI;;;;;;;;;;;;;;;;;;AAvC9C,MAAA,EAAA,cAAc,KAAI,IAAA;AAIpB,WAAA,sBAAsB,KAAG;AAC3B,QAAA,CAAA,cAAc,QAAQ,YAAQ,CAAK,IAAI,OAAK;AACrC,YAAA,IAAA,MAAM,sBAAsB;AAAA;UAGlCC,SAAQ,IAAI;UACZ,oBAAiB,CAAA;AAEZ,eAAA,OAAOA,QAAK;UACjBA,OAAM,eAAe,GAAG,KAAKA,OAAM,GAAG,MAAM,GAAC;AAC/C,0BAAkB,KAAI,EAAG,OAAO,KAAK,OAAOA,OAAM,GAAG,GAAA;AAAA;;WAIlD;AAAA;AAeT,UAAO,YAAA;AAAA;;;;;;;sBAZJ,QAAQ,sBAAsB,YAAY,aAAa,CAAA;AAAA;;;sBACvD,SAAS,YAAY,cAAc,MAAA;AAAA;;;UAEhC,OAAK;AACT,qBAAA,GAAA,eAAe,KAAK;AAAA;;;;AAErB,UAAK,OAAM,cAAA,GACV,eAAY,CAAA,EACR,OAAO,UAAU,OAAO,OAAO,MAAM,EAAA,CAAA,CAAA;AAAA;;kBA3BxC,eAAY,EAAA;;;;;;;;;"}