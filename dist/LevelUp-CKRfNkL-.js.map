{"version":3,"file":"LevelUp-CKRfNkL-.js","sources":["../node_modules/svelte/src/runtime/internal/globals.js","../src/components/atoms/button/LevelUpButtonInnards.svelte","../src/components/organisms/dnd5e/Tabs/LevelUp.svelte"],"sourcesContent":["/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","<script>\n  import { onMount } from \"svelte\";\n  import { activeClass, characterClass, newClassLevel, isMultiClass } from \"~/src/helpers/store\";\n  import { log } from \"../../../helpers/Utility\";\n  import { ucfirst } from \"~/src/helpers/Utility.js\";\n  export let src = false;\n  export let level = false;\n  export let classKey = false;\n\n  const cancelLevelUp = () => {\n    $activeClass = false;\n    $characterClass = false\n    $newClassLevel = false\n  };\n\n  onMount(() => {\n    // game.system.log.d(\"mounted LevelUpButtonInnards\", src, level, classKey);\n  });\n</script>\n\n<template lang=\"pug\">\n+if(\"src && level && classKey\")\n  .flexrow.class-row\n    .flex0.icon\n      img(height=\"40\" width=\"40\" src=\"{src}\")\n    .flex3.flexrow\n      .flex3.left.pa-xs {ucfirst(classKey)} \n      .flex0.right.mr-sm\n        .lozenge.pa-xs {level} \n      .flex0.right.pr-md.py-xs\n        +if(\"!$activeClass\")\n          i(class=\"fas fa-plus\")\n        +if(\"$activeClass && !$isMultiClass\")\n          i(class=\"fas fa-times\" on:click!=\"{cancelLevelUp}\")\n</template>\n\n<style lang=\"sass\">\n  @import '../../../../styles/Mixins.scss'\n  .lozenge\n    background-color: var(--dnd5e-color-gold)\n    color: #000\n    border-radius: var(--border-radius)\n    box-shadow: 0 0 6px var(--dnd5e-shadow-45)\n  .gold-button-disabled\n    @include gold-button(null)\n  .gold-button\n    @include gold-button  \n  .class-row\n    padding: 0\n    justify-items: center\n    align-items: center\n  .icon\n    min-width: 40px\n</style>\n","<script>\n  import SvelteSelect from \"svelte-select\";\n  import IconSelect from \"~/src/components/atoms/select/IconSelect.svelte\";\n  import {\n    extractMapIteratorObjectProperties,\n    extractItemsFromPacks,\n    getFoldersFromMultiplePacks,\n    getPacksFromSettings,\n    ucfirst\n  } from \"~/src/helpers/Utility.js\";\n  import { getContext, onDestroy, onMount, tick } from \"svelte\";\n  import {\n    characterClass,\n    characterSubClass,\n    level,\n    tabs,\n    newClassLevel,\n    activeClass,\n    isMultiClass\n  } from \"~/src/helpers/store\";\n  import { localize } from \"#runtime/svelte/helper\";\n  import { TJSSelect } from \"@typhonjs-fvtt/svelte-standard/component\";\n  import DonationTracker from \"~/src/plugins/donation-tracker\"\n  import LevelUpExisting from \"~/src/components/organisms/dnd5e/Tabs/LevelUpExistingClassLeftCol.svelte\";\n  import LevelUpButtonInnards from \"~/src/components/atoms/button/LevelUpButtonInnards.svelte\";\n  import { log } from \"../../../../helpers/Utility\";\n\n  let richHTML = \"\",\n    richSubClassHTML = \"\",\n    activeClassKey = null,\n    activeSubClass = null,\n    classValue = null,\n    subclassValue = null,\n    subClassesIndex,\n    subclasses,\n    classesPlaceholder = \"Classes\",\n    subclassesPlaceholder = \"Subclasses\",\n    packs = getPacksFromSettings(\"classes\"),\n    subClassesPack = game.packs.get('dnd5e.subclasses'),\n    subClassesPacks = getPacksFromSettings(\"subclasses\"),\n    mappedClassIndex = extractItemsFromPacks(packs, [\n      \"name->label\",\n      \"img\",\n      \"type\",\n      \"folder\",\n      \"uuid->value\",\n      \"_id\",\n    ])\n  ;\n\n  const levelOptions = [];\n  for (let i = 1; i <= 20; i++) {\n    levelOptions.push({ label: \"Level \" + i, value: i });\n  }\n\n  const selectStyles = {\n    // width: '50%',\n    // display: 'inline-block',\n    // fontSize: 'smaller',\n  };\n\n  const actor = getContext(\"#doc\");\n\n  /** IMPORTERS */\n  const importClassAdvancements = async () => {\n    for (const classAdvancement of classAdvancementArrayFiltered) {\n      try {\n        const module = await import(`~/src/components/molecules/dnd5e/Advancements/${classAdvancement.type}.svelte`);\n        classAdvancementComponents[classAdvancement.type] = module.default;\n      } catch (error) {\n        log.e(`Failed to load component for ${classAdvancement.type}:`, error);\n      }\n    }\n  };\n\n  const importSubClassAdvancements = async () => {\n    for (const subClassAdvancement of subClassAdvancementArrayFiltered) {\n      try {\n        const module = await import(`~/src/components/molecules/dnd5e/Advancements/${subClassAdvancement.type}.svelte`);\n        await tick();\n        subClassAdvancementComponents[subClassAdvancement.type] = module.default;\n      } catch (error) {\n        log.e(`Failed to load component for ${subClassAdvancement.type}:`, error);\n      }\n    }\n  };\n\n  /** DECORATORS */\n  function existingClassesCssClassForRow(classKey) {\n    let css = getCharacterClass(classKey).uuid === $activeClass ? 'active' : ''\n    if($isMultiClass) {\n      css += ' gold-button-disabled'\n    } else {\n        css += ' gold-button'\n    }\n    return css\n  }\n\n  /** FILTERS */\n  const getFilteredSubclassIndex = async () => {\n    const filteredSubClassIndex = [];\n    for(let subClassesPack of subClassesPacks) {\n      let index = await subClassesPack.getIndex({\n        fields: [\"system.classIdentifier\"],\n      });\n      if(!subClassesPack) continue\n      let mappedSubClassIndex =  extractMapIteratorObjectProperties(index.entries(), [\n          \"name->label\",\n          \"img\",\n          \"type\",\n          \"folder\",\n          \"uuid->value\",\n          \"system\",\n          \"_id\",\n        ])\n\n      filteredSubClassIndex.push(mappedSubClassIndex?.filter(\n        (x) => x.system.classIdentifier == $characterClass.system.identifier,\n      ))\n    }\n    const output = filteredSubClassIndex.flat().sort((a, b) => a.label.localeCompare(b.label));\n    return output\n  };\n \n  const getCharacterClass = (classKey) => {\n    // game.system.log.d($actor._classes[classKey])\n    return $actor._classes[classKey];\n  }\n\n  function getLevel(classKey) {\n    const level = $newClassLevel ? $newClassLevel : getCharacterClass(classKey)?.system?.levels\n    return level\n  }\n\n  /** EVENT HANDLERS */\n  const selectClassHandler = async (option) => {\n    // game.system.log.d('add multi class', option)\n    activeSubClass = null;\n    $characterSubClass = null;\n    subclassValue = null;\n    subClassAdvancementArrayFiltered = [];\n    richSubClassHTML = \"\";\n    $characterClass = await fromUuid(option);\n    $activeClass = option;\n    \n    await tick();\n    subClassesIndex = await getFilteredSubclassIndex();\n    await tick();\n    importClassAdvancements();\n    richHTML = await TextEditor.enrichHTML(html);\n  };\n\n  const clickCancelMulticlass = async () => {\n    $activeClass = false\n    classValue = null\n    activeSubClass = null\n    activeClassKey = null\n    $characterClass = false\n  }\n\n  async function clickAddLevel(classKey) {\n\n    if ($isMultiClass) return;\n    const isUnset = Boolean($activeClass) && Boolean($newClassLevel);\n    if(isUnset) return;\n\n    const uuid = getCharacterClass(classKey).uuid\n    // game.system.log.d('add level for class: ', uuid)\n\n    activeSubClass = null;\n    $characterSubClass = null;\n    subclassValue = null;\n    subClassAdvancementArrayFiltered = [];\n    richSubClassHTML = \"\";\n    $characterClass = await fromUuid(uuid);\n    $activeClass = uuid;\n    activeClassKey = classKey\n    newClassLevel.set($actor._classes[classKey]?.system?.levels + 1);\n    \n    await tick();\n    subClassesIndex = await getFilteredSubclassIndex();\n    await tick();\n    importClassAdvancements();\n    richHTML = await TextEditor.enrichHTML(html);\n\n  }\n\n  /** REACTIVE */\n\n  $: html = $characterClass?.system?.description.value || \"\";\n  $: subClassProp = activeSubClass;\n  $: classProp = $activeClass;\n  $: combinedHtml = richHTML + (richSubClassHTML ? `<h1>${localize('GAS.SubClass')}</h1>` + richSubClassHTML : '');\n  $: classAdvancementComponents = {};\n  $: subClassAdvancementComponents = {};\n\n  $: if(subClassesIndex?.length) {\n    subclasses = subClassesIndex.flat().sort((a, b) => a.label.localeCompare(b.label));\n  } else {\n    subclasses = [];\n  }\n\n  $: subClassAdvancementArrayFiltered = $characterSubClass?.advancement?.byId\n    ? Object.entries($characterSubClass.advancement.byId)\n        .filter(([id, value]) => value.level === $level)\n        .map(([id, value]) => ({ ...value, id }))\n    : [];\n\n  $: classAdvancementArrayFiltered = $characterClass?.advancement?.byId\n    ? Object.entries($characterClass.advancement.byId)\n        .filter(([id, value]) => value.level === $level)\n\n        .map(([id, value]) => ({ ...value, id }))\n    : [];\n\n  $: classKeys = Object.keys($actor._classes);\n\n  $: classLevels = classKeys.map((classKey) => {\n    const classObj = $actor._classes[classKey]\n    return classObj.uuid == $activeClass ? classObj.system.levels + 1 : classObj.system.levels;\n  });\n\n  $: activeClassObj = $actor._classes[activeClassKey];\n  $: activeClassIndex = classKeys.indexOf(activeClassKey);\n  $: activeClassLevel = classLevels[activeClassIndex];\n\n\n  $: filteredClassIndex = mappedClassIndex\n      .filter((i) => {\n        return i.type == 'class' \n        && DonationTracker.canViewItem(i)\n        //- @why: don't include classes that are already in the character\n        && !classKeys.includes(i.label.toLowerCase())\n      })\n      .sort((a, b) => a.label.localeCompare(b.label))\n\n  onMount(async () => {\n    if ($characterClass) {\n      classValue = $characterClass.uuid;\n      await tick();\n      importClassAdvancements();\n      richHTML = await TextEditor.enrichHTML(html);\n      subClassesIndex = await getFilteredSubclassIndex();\n    }\n    if ($characterSubClass) {\n      subclassValue = $characterSubClass.uuid;\n      await tick();\n      importSubClassAdvancements();\n      richSubClassHTML = await TextEditor.enrichHTML(\n        $characterSubClass.system.description.value,\n      );\n    }\n    // game.system.log.d(\"classKeys\", classKeys);\n    // game.system.log.d(typeof classKeys);\n    // game.system.log.d(classKeys.length);\n    // game.system.log.d(Array.isArray(classKeys.length));\n    // game.system.log.d(getCharacterClass('fighter'))\n    // game.system.log.d($characterClass)\n  });\n\n\n\n</script>\n\n<template lang=\"pug\">\n  .content\n    //- pre isMultiClass {$isMultiClass}\n    //- pre activeClass {$activeClass}\n    //- pre characterClass {$characterClass}\n    //- pre newClassLevel {$newClassLevel}\n    .flexrow\n      .flex2.pr-sm.col-a\n        h1.flex Existing Classes\n        +each(\"classKeys as classKey, index\")\n          //- pre classKey {classKey}\n          //- pre getCharacterClass(classKey) {getCharacterClass(classKey).system.img}\n          //- pre getCharacterClass(classKey)?.system?.img {getCharacterClass(classKey)?.system?.img}\n          +if(\"$activeClass && !$newClassLevel\")\n            .class-row(class=\"{existingClassesCssClassForRow(classKey)}\")\n              LevelUpButtonInnards(src=\"{getCharacterClass(classKey)?.img}\" level=\"{classLevels[index]}\" classKey=\"{classKey}\")  \n            +else()\n              .class-row(class=\"{existingClassesCssClassForRow(classKey)}\" role=\"button\" aria-role=\"button\" aria-label=\"{localize('GAS.LevelUp.Button')+' '+classKey}\" data-tooltip=\"{localize('GAS.LevelUp.Button')+' '+classKey}\" on:mousedown!=\"{clickAddLevel(classKey)}\")\n                LevelUpButtonInnards(src=\"{getCharacterClass(classKey)?.img}\" level=\"{classLevels[index]}\" classKey=\"{classKey}\")  \n        +if(\"!$newClassLevel\") \n          h1.flexrow.mt-md\n            .flex2.left Add Multiclass\n            +if(\"classProp\")\n              .flex0\n                button.pr-none.mt-sm.gold-button(type=\"button\" role=\"button\" on:mousedown=\"{clickCancelMulticlass}\")\n                  i(class=\"fas fa-times\")\n          IconSelect.icon-select( options=\"{filteredClassIndex}\"  placeHolder=\"{classesPlaceholder}\" handler=\"{selectClassHandler}\" id=\"characterClass-select\" bind:value=\"{classValue}\" )\n        +if(\"$characterClass\")\n          //- +if(\"subclasses.length\")\n          //-   h3.left.mt-md Subclass\n          //-   IconSelect.icon-select(active=\"{subClassProp}\" options=\"{subclasses}\"  placeHolder=\"{subclassesPlaceholder}\" handler=\"{selectSubClassHandler}\" id=\"subClass-select\" bind:value=\"{subclassValue}\" truncateWidth=\"17\" )\n          //- h3.left.mt-sm {localize('GAS.Tabs.Classes.FilterByLevel')}\n          +if(\"activeClassObj\")\n            h3 {activeClassObj.name} {levelOptions[1].label}\n            //- .flexrow\n            //-   .flex2.left\n            //-     TJSSelect( options=\"{levelOptions}\" store=\"{level}\" on:change=\"{levelSelectHandler}\" styles=\"{selectStyles}\" )\n            LevelUpExisting(classAdvancementArrayFiltered=\"{classAdvancementArrayFiltered}\" level=\"{getLevel(activeClassKey)}\")\n        //- +if(\"subclasses.length\")\n        //-   +if(\"$characterSubClass\")\n        //-     //- h3.left.mt-sm Description\n        //-     //- .left.sub-class(bind:innerHTML=\"{richSubClassHTML}\" contenteditable)\n        //-     +if(\"subClassAdvancementArrayFiltered\")\n        //-       h3.left.mt-sm.flexrow\n        //-         .flex {localize('GAS.Tabs.Classes.SubClass')} {localize('GAS.Advancements')}\n        //-         .flex0.div.badge.right.inset.ml-sm.mb-xs {localize('GAS.Level')} {$level}\n        //-       ul.icon-list\n        //-         +if(\"!subClassAdvancementArrayFiltered.length\")\n        //-           li.left {localize('GAS.NoAdvancements')}\n        //-           +else()\n        //-             +each(\"subClassAdvancementArrayFiltered as advancement\")\n        //-               //- @todo: this should be broken out into components for each advancement.type\n        //-               li.left(data-type=\"{advancement.type}\")\n        //-                 .flexrow(data-tooltip=\"{advancement.configuration?.hint || null}\" data-tooltip-locked=\"true\" data-tooltip-class=\"gas-tooltip dnd5e2 dnd5e-tooltip item-tooltip\" )\n        //-                   .flex0.relative.image\n        //-                     img.icon(src=\"{advancement.icon}\" alt=\"{advancement.title}\")\n        //-                   .flex2 {advancement.title}\n        //-                 .flexrow\n        //-                   svelte:component(this=\"{subClassAdvancementComponents[advancement.type]}\" advancement=\"{advancement}\")\n  \n      .flex0.border-right.right-border-gradient-mask \n      .flex3.left.pl-md.scroll.col-b {@html combinedHtml}\n  \n  </template>\n\n<style lang=\"sass\">\n  @import \"../../../../../styles/Mixins.scss\"\n  .content \n    @include staticOptions\n    .badge.inset\n      @include badge()\n      @include inset\n      display: inline-block\n      white-space: nowrap\n\n\n  :global(.icon-select)\n    position: relative\n\n\n  .gold-button-disabled\n    @include gold-button(null)\n  .gold-button\n    @include gold-button  \n\n  .sub-class\n    height: 100px\n    overflow-y: auto\n    padding: 0.5rem\n    border: 1px solid transparent\n    border-radius: 5px\n    box-shadow: 0 0 5px rgba(0,0,0,0.3) inset\n    font-size: smaller\n</style>\n"],"names":["create_if_block_2","create_if_block_1","ctx","create_if_block","level"],"mappings":"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","x_google_ignoreList":[0]}