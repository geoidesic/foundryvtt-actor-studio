{"version":3,"file":"ItemGrant-TKvyFLQ-.js","sources":["../src/components/molecules/dnd5e/Advancements/ItemGrant.svelte"],"sourcesContent":["<script>\n  import { getContext, onDestroy, onMount, tick } from \"svelte\";\n  import { log } from \"~/src/helpers/Utility\";\n  \n  export let advancement = null;\n\n  $: items = [];\n  let initialId = null;\n\n  async function getItemsFromUUIDs(uuids) {\n    const itemPromises = uuids.map(async (uuid) => {\n      const item = await fromUuid(uuid);\n      return item\n    });\n    return Promise.all(itemPromises);\n  }\n\n  async function getItems() {\n    if (advancement.configuration.items && Array.isArray(advancement.configuration.items)) {\n      items = await getItemsFromUUIDs(advancement.configuration.items.map(item => item.uuid));\n    }\n  }\n\n  $: if (advancement.id != initialId) {\n    getItems();\n    initialId = advancement.id;\n  }\n  \n  onMount(async () => {\n    initialId = advancement.id;\n  });\n  \n</script>\n\n<template lang=\"pug\">\n  .advancement.mt-sm(data-type=\"{advancement.type}\")\n    ul.icon-list\n    +each(\"items as item\")\n      li.left\n        +await(\"TextEditor.enrichHTML(item?.system?.description?.value || '')\")\n          +then(\"Html\")\n            .flexrow(data-tooltip=\"{Html || null}\" data-tooltip-class=\"gas-tooltip dnd5e2 dnd5e-tooltip item-tooltip\")\n              .flex0.relative.image\n                img.icon(src=\"{item?.img}\" alt=\"{item?.name}\")\n              .flex2 {item?.name}\n\n</template>\n\n<style lang=\"sass\">\n  @import \"../../../../../styles/Mixins.scss\"\n  .advancement\n    @include inset\n\n</style>"],"names":["ctx"],"mappings":";;;;;;;;;;;;;;;;;AAkC0b,MAAA;AAAA;AAAA,IAAA,QAAM,OAAI;AAAA;;;;;;;;;;;AAAnE,UAAA,CAAA,cAAA,IAAA,KAAA;AAAA,MAAA,QAAM,GAAG,EAAA,MAAA,KAAA,OAAA,aAAA;AAAS,WAAA,KAAA,OAAA;AAAA,MAAA,QAAM,IAAI;;;;AAAxK,WAAA,MAAA,gBAAA;AAAA,MAAA,UAAQ,IAAI;;;;AAAhD,aAAgQ,QAAA,MAAA,MAAA;AAA1I,aAA+F,MAAA,IAAA;AAA7D,aAAuD,MAAA,GAAA;AAAM,aAAqC,MAAA,IAAA;;;;AAA1E,UAAA;AAAA,MAAA,KAAA,CAAA,cAAA,IAAA,KAAA;AAAA,MAAAA,SAAM,GAAG,GAAA;;;AAAS,UAAA;AAAA,MAAA,KAAA,mBAAA;AAAA,MAAAA,SAAM,OAAI;;;AAA6B,UAAA;AAAA,MAAA,KAAA,aAAA;AAAA,MAAAA,SAAM,OAAI,IAAA,UAAA,GAAA,OAAA;AAA/M,UAAA;AAAA,MAAA,KAAA,6BAAA;AAAA,MAAAA,WAAQ,OAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;2BAA1H,WAAW;AAAA;AAAA,IAAW,IAAI,CAAA,GAAE,QAAQ,aAAa,SAAS;AAAA,EAAE,GAAA,IAAA;;;;;;;;AAArF,aAAgX,QAAA,IAAA,MAAA;;;;;;;;;kCAAvV,WAAW;AAAA;AAAA,QAAW,IAAI,CAAA,GAAE,QAAQ,aAAa,SAAS;AAAA,MAAE,MAAA,eAAA,SAAA,IAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;;IAAnG,IAAK,CAAA;AAAA,EAAA;;iCAAV,QAAI,KAAA,GAAA;;;;;;;;;;;;AAApD,WAAA,KAAA,aAAA;AAAA,MAAA,OAAY,IAAI;AAAA;;AAA3D,aAA0e,QAAA,KAAA,MAAA;AAA5a,aAA2B,KAAA,EAAA;;;;;;;;;;;;UAAOA,KAAK,CAAA;AAAA,QAAA;;mCAAV,QAAI,KAAA,GAAA;;;;;;;;;;;;;wCAAJ;AAAA;AAAhD,UAAA;AAAA,MAAA,KAAA,yBAAA;AAAA,MAAAA,QAAY,OAAI;;;;;;;;;;;;;;AAzB1C,eAAA,kBAAkB,OAAK;AAC9B,QAAA,eAAe,MAAM,WAAW,SAAI;UAClC,OAAI,MAAS,SAAS,IAAI;AACzB,WAAA;AAAA;SAEF,QAAQ,IAAI,YAAY;;;;AAVtB,MAAA,EAAA,cAAc,KAAI,IAAA;AAGzB,MAAA,YAAY;iBAUD,WAAQ;AACjB,QAAA,YAAY,cAAc,SAAS,MAAM,QAAQ,YAAY,cAAc,KAAK,GAAA;AAClF,mBAAA,GAAA,QAAc,MAAA,kBAAkB,YAAY,cAAc,MAAM,IAAI,UAAQ,KAAK,IAAI,CAAA,CAAA;AAAA;;AASzF,UAAO,YAAA;oBACL,YAAY,YAAY,EAAE;AAAA;;;;;;;AANrB,UAAA,YAAY,MAAM,WAAS;AAChC;wBACA,YAAY,YAAY,EAAE;AAAA;;;kBAnBzB,QAAK,CAAA,CAAA;;;;;;;;;"}